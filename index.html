<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BDC CHATBOT — Ultra Mindblowing AI Chat</title>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,400,0,0" rel="stylesheet">
  <style>
    :root{
      --bg:#0d0d1f;--card:#16162e;--muted:#a1aaff;--accent:#ff3ed1;--bubble:#1b1b32;--gap:14px;
      --gradient-out:#ff3ed1,#42f5ff;
    }
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial;background:#0d0d1f;overflow:hidden;color:#e6eef6;}
    .particles{
      position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;pointer-events:none;
    }
    .app{max-width:760px;margin:40px auto;padding:24px;border-radius:20px;background:rgba(0,0,0,0.6);backdrop-filter:blur(18px);box-shadow:0 12px 60px rgba(0,0,0,0.9);border:1px solid rgba(255,255,255,0.08);}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;animation:fadeIn 1s ease;}
    header h1{font-size:24px;margin:0;background:linear-gradient(90deg,#ff3ed1,#42f5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:textGlow 2s infinite alternate;}
    .controls{display:flex;gap:12px;align-items:center}
    button.icon-btn{background:rgba(255,255,255,0.02);border:none;padding:10px;border-radius:12px;color:var(--muted);cursor:pointer;transition:0.3s;}
    button.icon-btn:hover{background:rgba(255,255,255,0.12);color:#fff;transform:scale(1.2);}

    .chat-wrap{height:560px;overflow:auto;padding:16px;border-radius:16px;background:rgba(255,255,255,0.02);box-shadow:inset 0 0 40px rgba(0,0,0,0.5);scroll-behavior:smooth;}
    .message{display:flex;margin-bottom:16px;gap:14px;align-items:flex-end;animation:fadeInUp 0.7s ease;}
    .message.outgoing{justify-content:flex-end;}
    .message .message-content{max-width:72%;display:flex;gap:12px;align-items:flex-end;position:relative;}
    .message .avatar{width:42px;height:42px;border-radius:50%;object-fit:cover;box-shadow:0 2px 15px rgba(0,0,0,0.6);}
    .message .text{background:var(--bubble);padding:14px 18px;border-radius:22px;color:#e6eef6;line-height:1.5;white-space:pre-wrap;box-shadow:0 0 16px rgba(0,0,0,0.6);transition:0.4s;position:relative;}
    .message.outgoing .text{background:linear-gradient(90deg,var(--gradient-out));-webkit-background-clip:text;color:transparent;box-shadow:0 0 16px rgba(255,62,209,0.8);}

    .loading-indicator{display:flex;gap:6px;margin-left:10px}
    .loading-bar{width:8px;height:14px;border-radius:4px;opacity:0.85;background:#ff3ed1;animation:bounce 1s infinite}
    .loading-bar:nth-child(2){animation-delay:0.14s}
    .loading-bar:nth-child(3){animation-delay:0.28s}

    @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
    @keyframes fadeIn{0%{opacity:0;transform:translateY(-12px)}100%{opacity:1;transform:translateY(0)}}
    @keyframes fadeInUp{0%{opacity:0;transform:translateY(24px)}100%{opacity:1;transform:translateY(0)}}
    @keyframes textGlow{0%{text-shadow:0 0 8px #ff3ed1}100%{text-shadow:0 0 24px #42f5ff}}

    form.typing-form{display:flex;gap:12px;margin-top:16px}
    input.typing-input{flex:1;padding:16px;border-radius:22px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.03);color:inherit;box-shadow:0 0 12px rgba(0,0,0,0.3);transition:0.3s;}
    input.typing-input:focus{outline:none;border:1px solid var(--accent);box-shadow:0 0 18px rgba(255,62,209,0.8);}
    button.send-btn{padding:14px 18px;border-radius:22px;border:none;background:var(--accent);color:white;font-weight:700;cursor:pointer;transition:0.4s;}
    button.send-btn:hover{transform:scale(1.1);box-shadow:0 0 16px rgba(255,62,209,0.9);}

    .suggestions{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap}
    .suggestion{background:rgba(255,255,255,0.05);padding:10px 16px;border-radius:999px;cursor:pointer;color:var(--muted);transition:0.3s;}
    .suggestion:hover{background:rgba(255,62,209,0.25);color:#fff;transform:scale(1.08);}

    .meta{font-size:13px;color:var(--muted);margin-top:12px;text-align:center;opacity:0.7;}
    .credits{font-size:12px;color:var(--muted);text-align:center;margin-top:6px;opacity:0.7;font-style:italic;}
    .icon{cursor:pointer;user-select:none;transition:0.3s;}
    .icon:hover{color:var(--accent);transform:scale(1.3);}
  </style>
</head>
<body>
  <canvas class="particles" id="particles"></canvas>
  <div class="app">
    <header>
      <h1>BDC CHATBOT ✨</h1>
      <div class="controls">
        <button id="theme-toggle-button" class="icon-btn">light_mode</button>
        <button id="delete-chat-button" class="icon-btn">delete</button>
      </div>
    </header>

    <main>
      <div class="chat-wrap chat-list" id="chat-list" aria-live="polite"></div>

      <div class="suggestions" id="suggestions">
        <div class="suggestion"><span class="text">Explain AI like a sci-fi wizard</span></div>
        <div class="suggestion"><span class="text">Generate 5 futuristic startup ideas</span></div>
        <div class="suggestion"><span class="text">Write a neon email template</span></div>
      </div>

      <div class="meta">Experience Google Gemini with ultra mindblowing UI & responses!</div>
      <div class="credits">Created by Ahsan Habib</div>

      <form class="typing-form" id="typing-form">
        <input class="typing-input" placeholder="Ask anything mindblowing..." autocomplete="off" />
        <button class="send-btn" type="submit">Send ✨</button>
      </form>
    </main>
  </div>

  <script>
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = window.innerWidth;
    let h = canvas.height = window.innerHeight;

    const particles = [];
    for(let i=0;i<120;i++){
      particles.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*2+1,dx:(Math.random()-0.5)*0.7,dy:(Math.random()-0.5)*0.7});
    }
    function animateParticles(){
      ctx.clearRect(0,0,w,h);
      particles.forEach(p=>{
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fillStyle='rgba(255,62,209,0.7)';
        ctx.fill();
        p.x+=p.dx;p.y+=p.dy;
        if(p.x>w||p.x<0)p.dx*=-1;
        if(p.y>h||p.y<0)p.dy*=-1;
      });
      requestAnimationFrame(animateParticles);
    }
    animateParticles();
    window.addEventListener('resize',()=>{w=canvas.width=window.innerWidth;h=canvas.height=window.innerHeight;});

    const typingForm=document.querySelector('.typing-form');
    const chatContainer=document.querySelector('#chat-list');
    const suggestions=document.querySelectorAll('.suggestion');
    const toggleThemeButton=document.querySelector('#theme-toggle-button');
    const deleteChatButton=document.querySelector('#delete-chat-button');

    let userMessage=null;
    let isResponseGenerating=false;

    const API_KEY="AIzaSyCIP2zrqg4k92cF_frPTU1syDd8j8fA5Vg";
    const API_URL="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";

    const createMessageElement=(content,...classes)=>{const div=document.createElement('div');div.classList.add('message',...classes);div.innerHTML=content;return div;}

    const loadDataFromLocalstorage=()=>{const savedChats=localStorage.getItem('saved-chats');const isLightMode=(localStorage.getItem('themeColor')==='light_mode');document.body.classList.toggle('light_mode',isLightMode);toggleThemeButton.innerText=isLightMode?'dark_mode':'light_mode';chatContainer.innerHTML=savedChats||'';document.body.classList.toggle('hide-header',!!savedChats);chatContainer.scrollTo(0,chatContainer.scrollHeight);}

    const showTypingEffect=(text,textElement,incomingMessageDiv)=>{const words=text.split(' ');let i=0;const typingInterval=setInterval(()=>{textElement.innerText+=(i===0?'':' ')+words[i++];incomingMessageDiv.querySelector('.icon')?.classList?.add('hide');if(i===words.length){clearInterval(typingInterval);isResponseGenerating=false;incomingMessageDiv.querySelector('.icon')?.classList?.remove('hide');localStorage.setItem('saved-chats',chatContainer.innerHTML);}chatContainer.scrollTo(0,chatContainer.scrollHeight);},40);}

    const generateAPIResponse=async(incomingMessageDiv)=>{const textElement=incomingMessageDiv.querySelector('.text');try{const resp=await fetch(API_URL,{method:'POST',headers:{'Content-Type':'application/json','X-goog-api-key':API_KEY},body:JSON.stringify({contents:[{role:'user',parts:[{text:userMessage}]}]})});const data=await resp.json();if(!resp.ok)throw new Error(data?.error?.message||'API error');const apiResponse=data?.candidates?.[0]?.content?.parts?.[0]?.text||'No response';showTypingEffect(apiResponse.replace(/\*\*(.*?)\*\*/g,'$1'),textElement,incomingMessageDiv);}catch(err){isResponseGenerating=false;textElement.innerText='Error: '+(err.message||err);incomingMessageDiv.classList.add('error');}finally{incomingMessageDiv.classList.remove('loading');}
    }

    const showLoadingAnimation=()=>{const html=`<div class="message-content"><img class="avatar" src="https://iili.io/2K5KbDJ.jpg" alt="Gemini avatar"><p class="text"></p><div class="loading-indicator"><div class="loading-bar"></div><div class="loading-bar"></div><div class="loading-bar"></div></div></div><span onclick="copyMessage(this)" class="icon material-symbols-outlined">content_copy</span>`;const incomingMessageDiv=createMessageElement(html,'incoming','loading');chatContainer.appendChild(incomingMessageDiv);chatContainer.scrollTo(0,chatContainer.scrollHeight);generateAPIResponse(incomingMessageDiv);}

    window.copyMessage=(el)=>{const messageText=el.parentElement.querySelector('.text').innerText;navigator.clipboard.writeText(messageText).then(()=>{el.innerText='done';setTimeout(()=>el.innerText='content_copy',800);});}

    const handleOutgoingChat=()=>{userMessage=typingForm.querySelector('.typing-input').value.trim()||userMessage;if(!userMessage||isResponseGenerating)return;isResponseGenerating=true;const html=`<div class="message-content"><img class="avatar" src="https://iili.io/2K5crx4.jpg" alt="User avatar"><p class="text"></p></div>`;const outgoingMessageDiv=createMessageElement(html,'outgoing');outgoingMessageDiv.querySelector('.text').innerText=userMessage;chatContainer.appendChild(outgoingMessageDiv);typingForm.reset();document.body.classList.add('hide-header');chatContainer.scrollTo(0,chatContainer.scrollHeight);setTimeout(showLoadingAnimation,200);}

    toggleThemeButton.addEventListener('click',()=>{const isLight=document.body.classList.toggle('light_mode');localStorage.setItem('themeColor',isLight?'light_mode':'dark_mode');toggleThemeButton.innerText=isLight?'dark_mode':'light_mode';});
    deleteChatButton.addEventListener('click',()=>{if(confirm('Delete all chats?')){localStorage.removeItem('saved-chats');loadDataFromLocalstorage();}});
    document.querySelectorAll('.suggestion').forEach(s=>{s.addEventListener('click',()=>{userMessage=s.querySelector('.text').innerText;handleOutgoingChat();});});
    typingForm.addEventListener('submit',e=>{e.preventDefault();handleOutgoingChat();});
    loadDataFromLocalstorage();
  </script>
</body>
</html>
